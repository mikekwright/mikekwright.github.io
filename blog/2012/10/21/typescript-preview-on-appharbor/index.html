

<!doctype html>
  <!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
  <!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
  <!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
  <!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Typescript Preview on AppHarbor - My Fortress of Solitude</title>
    <meta name="author" content="Michael Wright">
    
    <meta name="description" content="Typescript Preview on AppHarbor Oct 21st, 2012 typescript So, this weekend a friend and I started working on a little side project and wanted to use &hellip;">
    
    <meta name="viewport" content="width=device-width">
    
    <link rel="canonical" href="http://www.mikewright.me/blog/2012/10/21/typescript-preview-on-appharbor">
    <link href="/favicon.png" rel="icon">
    <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet">
    <link href="//atom.xml" rel="alternate" title="My Fortress of Solitude" type="application/atom+xml">
  </head>


  <body >

    <header>
      <div class="grid-wrapper">
  <div class="grid">

    <div class="grid__item two-fifths lap-four-sixths palm-one-whole">
  <a href="/" class="site-title">My Fortress of Solitude</a>
</div>

<div class="grid__item three-fifths lap-two-sixths palm-one-whole">
  <nav>
    <input type="checkbox" id="toggle">
<label for="toggle" class="toggle" data-open="Main Menu" data-close="Close Menu"></label>
<ul class="menu pull-right">
  <li><a href="/">Home</a></li>
  <li><a href="/blog/">Blog</a></li>
</ul>
  </nav>
</div>

  </div>
</div>
    </header>

    

    <div class="grid-wrapper">
      <div class="grid grid-center">
        
        <div class="grid__item two-thirds lap-one-whole palm-one-whole">
        

          <article class="post">
  <header>
  
  <h1 class="title indent">Typescript Preview on AppHarbor</h1>
  

  
  <div class="meta clearfix">
    








  


<time class="pull-left" datetime="2012-10-21T00:01:00-06:00" pubdate data-updated="true"><i class="icon-calendar"></i> Oct 21<span>st</span>, 2012</time>
    



  
  <div class="pull-left">
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      <li><a href="/blog/categories/typescript/">typescript</a></li>
    
    </ul>
  </div>
  

    
  </div>
  
</header>




  <p>So, this weekend a friend and I started working on a little side project and wanted to use
Microsoft&rsquo;s new TypeScript language for our JS development.  We had also decided on using
AppHarbor (a fantastic .net paas provider) to automatically deploy our code builds.  There
were a few oddities that had to be fixed to allow this to work, and I hope to share with
you the process that we went through to allow for typescript to be successfully deployed
to an ASP.NET MVC app running on AppHarbor.</p>

<!-- more -->


<p></p>

<h2>Typescript Installation</h2>

<ol>
<li>Install VS 2012 (For my case I used Professional 2012)</li>
<li>Install the Typescript Preview (version 0.8.0.0)</li>
<li>Install the Visual Studio plugin if it didn&rsquo;t get successfully installed

<ul>
<li>Manually run the file TypeScriptLanguageService.vsix found at   %PROGRAM_FILES%\Microsoft SDKs\TypeScript\0.8.0.0\</li>
</ul>
</li>
</ol>


<h2>Project Setup</h2>

<p>At this point we now have visual studio and a developer box setup to create our new project.<br/>
The project template that I used was an ASP.NET MVC 4 web application.  After creating the
project file you will need to edit the .csproj file to have some tags to run the tsc
(TypeScript compiler) on the ts files found in your project.  We will also need to copy the
tsc compiler to our solution, so that we can commit it to the repository
(required only for AppHarbor building).</p>

<p>Create a folder in a subdirectory of your solution and copy the following files from the
TypeScript install directory</p>

<ul>
<li>tsc.exe</li>
<li>tschost.dll (not sure if it is actually required)</li>
<li>tsc.js</li>
</ul>


<p>Noting the above directories location relative to the solution&rsquo;s root, you will then edit
the projects csproj file using your favorite editor and add the below lines</p>

<pre><code>    &lt;Target Name="BeforeBuild"&gt;
      &lt;Exec Command="&amp;quot;$(SolutionDir)&lt;TypescriptDirectory&gt;\tsc&amp;quot; @(TypeScriptCompile -&gt;'&amp;quot;%(fullpath)&amp;quot;', ' ')" /&gt;
    &lt;/Target&gt;
</code></pre>

<p>This new command will cause the typescript compiler to run before each build and compile
the .ts files to .js</p>

<p><em>Note: The reason for copying the compiler over is so that it will be able to be executed on
the AppHarbor machines without the need for them to install the dependency.</em></p>

<h2>Finishing</h2>

<p>So, at this point you should have an application that will build your typescript files on any
machine that can build a regular csproj project.  When adding the ts file to your project,
use the visual studio &ldquo;Add New Item&rdquo; option and select a typescript file, if you try to
manually add it with the extension you will need to add the compile command to the projects
csproj file as well (example below).</p>

<pre><code>    &lt;TypeScriptCompile Include="TSScripts\app.ts" /&gt;
</code></pre>


</article>

 
<section id="disqus">
  <h1 class="indent title">Comments</h1>
  <div id="disqus_thread" aria-live="polite"><div id="disqus_thread"></div>
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'wrightcoder'; // required: replace example with your forum shortname

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    
</div>
</section>

        
        </div>
        
        
        <aside id="sidebar" class="grid__item one-third lap-one-whole palm-one-whole">
          <div class="grid">

  
<section class="social aside-module grid__item one-whole lap-one-half">
  <h1 class="title delta">
    Track my Movements
  </h1>
  <ul class="unstyled">
    
    
    <li><a class="github" href="//github.com/wrightcoder"><i class="icon-github"></i> Github</a></li>
    
    <li><a class="gplus" href="//plus.google.com/118232506537372838088"><i class="icon-google-plus-sign"></i> Google+</a></li>
    <li><a class="linkedin" href="//linkedin.com/in/weijiajun"><i class="icon-linkedin-sign"></i> LinkedIn</a></li>
    
    <li><a class="stackoverflow" href="//stackoverflow.com/users/310561"><i class="icon-stackexchange"></i> StackOverflow</a></li>
    <li><a class="twitter" href="//twitter.com/mk_wright"><i class="icon-twitter"></i> Twitter</a></li>
    <li><a class="youtube" href="//youtube.com/user/weijiajun"><i class="icon-youtube"></i> YouTube</a></li>
  </ul>
</section>


  <section id="recent-posts" class="aside-module grid__item one-whole lap-one-half">
  <h1 class="title delta">Recent Posts</h1>
  <ul class="divided">
    
      <li class="post">
        <a href="/blog/2015/02/06/docker/">Docker</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/02/06/docker-and-continuous-delivery/">Docker and Continuous Delivery</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/12/01/ec2-container-service/">EC2 Container Service</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/07/02/linux-awk/">Linux - AWK/GAWK</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/11/16/ocaml/">Ocaml, Opam and utop from a newb</a>
      </li>
    
  </ul>
</section>

<section id="github-repos" class="aside-module grid__item one-whole lap-one-half">
  <h1 class="title delta">
    GitHub Repos
    
    <small class="pull-right">
      <a class="btn" href="//github.com/wrightcoder" title="@wrightcoder on GitHub" target="_blank">
        <i class="icon-external-link"></i>
      </a>
    </small>
    
  </h1>
  <ul id="gh_repos" class="divided">
    <li class="loading">
      <i class="icon-spinner icon-spin"></i>
    </li>
  </ul>
</section>




</div>

        </aside>
        
      </div>
    </div>
    
    <footer>
      <div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item">
      <p class="copyright">
  All content by Michael Wright and licenced under <a href="//creativecommons.org/licenses/by-nc-sa/3.0/ie/">Creative Commons</a>.<br>
  Code under <a href="//github.com/coogie/oscailte/blob/master/README.md">MIT Licence</a>.
</p>
    </div>
  </div>
</div>

    </footer>

    <!--[if lt IE 7]>
      <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
    <![endif]-->

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
<script src="//crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups/md5.js"></script>
<script defer src="/javascripts/octopress.js"></script>




<script>
  var disqus_shortname = 'wrightcoder';
  
    
    // var disqus_developer = 1;
    var disqus_identifier = 'http://www.mikewright.me/blog/2012/10/21/typescript-preview-on-appharbor/';
    var disqus_url = 'http://www.mikewright.me/blog/2012/10/21/typescript-preview-on-appharbor/';
    var disqus_script = 'embed.js';
  
  (function () {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  }());
</script>




<script>
  $(document).ready(function(){
    if (!window.jXHR){
      var jxhr = document.createElement('script');
      jxhr.type = 'text/javascript';
      jxhr.src = '/javascripts/libs/jXHR.js';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jxhr, s);
    }

    github.showRepos({
      user: 'wrightcoder',
      count: 0,
      skip_forks: true,
      target: '#gh_repos'
    });
  });
</script>
<script src="/javascripts/github.js"></script>






  </body>
</html>