
<!DOCTYPE html>
<html lang="en">
<head>
  <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,400italic' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" type="text/css" href="http://mikewright.me/theme/stylesheet/style.min.css">

  <link rel="stylesheet" type="text/css" href="http://mikewright.me/theme/pygments/github.min.css">
  <link rel="stylesheet" type="text/css" href="http://mikewright.me/theme/font-awesome/css/font-awesome.min.css">


    <link href="http://mikewright.me/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Mike's Dev / Data Science Blog Atom">


    <link rel="shortcut icon" href="http://mikewright.me/images/favicon.jpg" type="image/x-icon">
    <link rel="icon" href="http://mikewright.me/images/favicon.jpg" type="image/x-icon">

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="index, follow" />


<meta name="author" content="Michael Wright" />
<meta name="description" content="Finally decided to take the dive and try out arch and the good times that can be found there" />
<meta name="keywords" content="linux">
<meta property="og:site_name" content="Mike's Dev / Data Science Blog"/>
<meta property="og:title" content="Fun with Arch"/>
<meta property="og:description" content="Finally decided to take the dive and try out arch and the good times that can be found there"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="http://mikewright.me/03-arch-funtimes.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2019-07-15 00:00:00-06:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="http://mikewright.me/author/michael-wright.html">
<meta property="article:section" content="development"/>
<meta property="article:tag" content="linux"/>
<meta property="og:image" content="http://mikewright.me/images/avatar.jpg">

  <title>Mike's Dev / Data Science Blog &ndash; Fun with Arch</title>
</head>
<body>
  <aside>
    <div>
      <a href="http://mikewright.me">
        <img src="http://mikewright.me/images/avatar.jpg" alt="Love 2 Code" title="Love 2 Code">
      </a>
      <h1><a href="http://mikewright.me">Love 2 Code</a></h1>


      <nav>
        <ul class="list">
          <li><a href="http://mikewright.me/pages/about.html#about">About</a></li>
          <li><a href="http://mikewright.me/pages/contact.html#contact">Contact</a></li>
          <li><a href="http://mikewright.me/pages/experience.html#experience">Experience</a></li>

        </ul>
      </nav>

      <ul class="social">
        <li><a class="sc-linkedin" href="https://www.linkedin.com/in/mikekwright" target="_blank"><i class="fa fa-linkedin"></i></a></li>
        <li><a class="sc-github" href="https://github.com/mikekwright" target="_blank"><i class="fa fa-github"></i></a></li>
        <li><a class="sc-twitter" href="https://twitter.com/mikekwright" target="_blank"><i class="fa fa-twitter"></i></a></li>
      </ul>
    </div>
  </aside>
  <main>
    <nav>
      <a href="http://mikewright.me">    Home
</a>

      <a href="/archives.html">Archives</a>
      <a href="/categories.html">Categories</a>
      <a href="/tags.html">Tags</a>

      <a href="http://mikewright.me/feeds/all.atom.xml">    Atom
</a>

    </nav>

<article class="single">
  <header>
    <h1 id="03-arch-funtimes">Fun with Arch</h1>
    <p>
          Posted on Mon 15 July 2019 in <a href="http://mikewright.me/category/development.html">development</a>


    </p>
  </header>
  <div>
    <p>So over the weekend I had a chance to update a couple of my desktop / server machines and decided
that I wanted to take the plunge and work with arch linux.  I have heard both good and bad things over
the years with regards to Arch, but the one thing that always excites me is the possibility
of learning something new.  Everyone says they have learned something with using or attempting to use
Arch, so I took the plunge.  </p>
<h2>Notes</h2>
<p>The first thing I did (hopefully like a good citizen) was to open up the Arch documentation or the
<a href="https://wiki.archlinux.org/index.php/Installation_guide">Installation Guide</a>.  Everything was going
great, I didn't need to change the keymap or fonts at this time.  I also verified that I was using EFI
so things were looking up.  </p>
<p>The first big step was to get the system to access the internet. It just
so happens that the first box that I created had a wireless card that was a Broadcom card.  So, this has
some extra exciting things happening because Broadcom devices have proprietary firmware.  So let me go
through the examples (and sites) that I visited to get this all working.  </p>
<h3>Broadcom Support</h3>
<p>To start off I followed the documentation and ran <code>ip link</code> only to find out that my wireless card
was not on the list.  So I next ran the command <code>lspci -vnn -d 14e4:</code> to get the version of the card
that I had installed.  Once I had that version I looked at the <a href="https://wireless.wiki.kernel.org/en/users/Drivers/b43#list_of_hardware">b43 device docs</a>
and found out that my card was supported using the <code>b43</code> kernel module.  </p>
<p>So, the next steps were to download the proprietary drivers.  After looking around I found the driver
as a tar file and downloaded the file on my laptop, then copied it over to the archiso usb and
finally copied it from <code>/run/archiso/bootmnt</code> to <code>/tmp</code>.  </p>
<p>This allowed me to use the provided <code>b43-fwcutter</code> tool to install the firmware to <code>/lib/firmware</code>
and attempt to load the module again.  I first made sure to remove the modules by running the following
commands:</p>
<div class="highlight"><pre><span></span>rmmod b43
rmmod ssb
depmod -a
modprobe b43
</pre></div>


<p>After that, running the <code>ip link</code> command showed the device as <code>wlan0</code> and we were ready to go.  I then
used the <code>wpa_passphase &lt;SSID&gt; &lt;Password&gt; &gt; /etc/wpa_supplicant/MySSID.conf</code> to generate the connection
information for the wifi, and then I started the wpa process <code>wpa_supplicant -B -c /etc/wpa_supplicant/MySSID.conf -i wlan0</code>.
And then I finally used dhclient to get an ip address <code>dhclient wlan0</code> and we were off and running.  </p>
<h3>Rest of the system</h3>
<p>Luckily the rest of the process went off without a hitch, just by following the standard instructions.  I created
the three recommended partitions with an EFI partition, a root (<code>/</code>) partition and a swap partition.  After creating
them and running the mkfs calls to format the FAT and ext4 paritions respectively, I then mounted everything
and ran the <code>pacstrap</code> command to install the items.  </p>
<p>Now, once pacstrap was complete and I had used <code>arch-chroot</code> to jump into the new system, I needed to remember to
install a few packages that were included with the pacstrap command.  </p>
<div class="highlight"><pre><span></span>pacstrap -Sy
pacstrap -S vim dhcpcd netctl b43-fwcutter broadcom-wl-dkms bash-completion
</pre></div>


<p><strong>NOTE:</strong> I had also installed the <code>wpa_supplicant</code>, <code>iw</code> and <code>dhclient</code> packages first before getting the hang of
the rest of the tools.  </p>
<h3>Installing i3 and GDM</h3>
<p>Next I wanted to install <code>i3-wm</code> but specifically the <code>i3-gaps</code> version with a few other tools.  Once that was installed
the next step was to get the video driver installed and a login tool.  I followed the instructions that were found
on a different page that was installing Cinnamon called "<a href="https://www.tecmint.com/install-cinnamon-desktop-in-arch-linux/">Install Cinnamon desktop in Arch linux</a>.</p>
<p>It was super helpful as I needed to install a few other packages with i3.  I don't actually know if all of these
are required or not, but this is what I did to finally get everything working.  </p>
<div class="highlight"><pre><span></span>pacman -S xorg-server xorg-xinit mesa
pacman -S xorg-twm xterm xorg-xclock
pacman -S xf86-video-intel
</pre></div>


<p>Once that was complete I was able to test it out using <code>startx</code>.  </p>
<p>Once that was good I just installed the login manager (I used <code>gdm</code> should have tried something that didn't bring all of gnome
along).  </p>
<div class="highlight"><pre><span></span>pacman -S gdm
systemctl <span class="nb">enable</span> gdm
</pre></div>


<h3>Final things</h3>
<p>At the end I created my user with a home directory and a password.  I rebooted, and had myself a glorious window in i3 that I
quickly downloaded my dotfiles for and fixed the way it looked ;-).  </p>
<h2>Good Times</h2>
<p>Honestly this was a lot of fun and I think I will learn a lot in the switch from a debian based system to Arch and look forward
to the new things that I will come across.  </p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="http://mikewright.me/tag/linux.html">linux</a>
    </p>
  </div>



</article>

    <footer>
<p>&copy; Michael Wright 2016</p>
<p>    Powered by <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a>
</p>    </footer>
  </main>





<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Mike's Dev / Data Science Blog ",
  "url" : "http://mikewright.me",
  "image": "http://mikewright.me/images/avatar.jpg",
  "description": "Simple blog created for discussing different topics around development and data science"
}
</script>
</body>
</html>